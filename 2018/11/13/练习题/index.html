<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>练习题 | LiHongFei.blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Linux基础1、显示当前时间，格式：2016-06-18 10:20:30">
<meta property="og:type" content="article">
<meta property="og:title" content="练习题">
<meta property="og:url" content="http://yoursite.com/2018/11/13/练习题/index.html">
<meta property="og:site_name" content="LiHongFei.blog">
<meta property="og:description" content="Linux基础1、显示当前时间，格式：2016-06-18 10:20:30">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://pf8eoyzmj.bkt.clouddn.com/%E4%B9%A0%E9%A2%98.jpg">
<meta property="og:updated_time" content="2018-10-11T03:19:30.700Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="练习题">
<meta name="twitter:description" content="Linux基础1、显示当前时间，格式：2016-06-18 10:20:30">
<meta name="twitter:image" content="http://pf8eoyzmj.bkt.clouddn.com/%E4%B9%A0%E9%A2%98.jpg">
  
    <link rel="alternate" href="/atom.xml" title="LiHongFei.blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">LiHongFei.blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://yoursite.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main"><article id="post-练习题" class="article article-type-post" itemscope="" itemprop="blogPost">
  <div class="article-meta">
    <a href="/2018/11/13/练习题/" class="article-date">
  <time datetime="2018-11-13T03:04:06.718Z" itemprop="datePublished">2018-11-13</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/习题/">习题</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      练习题
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><img src="http://pf8eoyzmj.bkt.clouddn.com/%E4%B9%A0%E9%A2%98.jpg" alt="习题"></p>
<h2 id="Linux基础"><a href="#Linux基础" class="headerlink" title="Linux基础"></a>Linux基础</h2><p>1、显示当前时间，格式：2016-06-18 10:20:30<br><a id="more"></a><br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#date +%F-%T</span></span><br><span class="line">2018-10-04-13:22:58</span><br><span class="line">[root@centos7 ~]<span class="comment">#date "+%Y-%m-%d %H:%M:%S"</span></span><br><span class="line">2018-10-04 13:32:45</span><br></pre></td></tr></table></figure></p>
<p>2、显示前天是星期几<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#date -d"-2 day"</span></span><br><span class="line">Tue Oct  2 13:36:43 CST 2018</span><br></pre></td></tr></table></figure></p>
<p>3、设置当前日期为2019-08-0706:05:10<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#date 080706052019.30</span></span><br><span class="line">Wed Aug  7 06:05:30 CST 2019</span><br></pre></td></tr></table></figure></p>
<p>4、在本机字符终端登录时，除显示原有信息外，再显示当前登录终端号，主机名和当前时间<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#nano /etc/issue</span></span><br><span class="line">  GNU nano 2.3.1                          File: /etc/issue                                                           </span><br><span class="line"></span><br><span class="line">my name is \n</span><br><span class="line">\t</span><br><span class="line">\l</span><br></pre></td></tr></table></figure></p>
<p>5、今天18：30自动关机，并提示用户<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@centons6 ~]<span class="comment">#shutdown -h 18:30 "aaabbbccc"</span></span><br><span class="line"></span><br><span class="line">Broadcast message from root@centons6.10.localdomain</span><br><span class="line">        (/dev/pts/0) at 14:50 ...</span><br><span class="line"></span><br><span class="line">The system is going down <span class="keyword">for</span> halt <span class="keyword">in</span> 220 minutes!</span><br><span class="line">aaabbbccc</span><br></pre></td></tr></table></figure></p>
<h2 id="linux通配符练习"><a href="#linux通配符练习" class="headerlink" title="linux通配符练习"></a>linux通配符练习</h2><p>1、显示/var目录下所有以l开头，以一个小写字母结尾，且中间出现至少一位数字的文件或目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /var/l*[[:digit:]]*[[:lower:]]</span></span><br><span class="line">/var/ldada12aa</span><br></pre></td></tr></table></figure></p>
<p>2、显示/etc目录下以任意一位数字开头，且以非数字结尾的文件或目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/[[:digit:]]*[^[:digit:]]</span></span><br><span class="line">/etc/111aaabbb  /etc/123abc  /etc/1abc  /etc/222aaabbb</span><br></pre></td></tr></table></figure></p>
<p>3、显示/etc/目录下以非字母开头，后面跟了一个字母及其它任意长度任意字符的文件或目录<br><strong>答：</strong><br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/[^[:alpha:]]*[[:alpha:]]*</span></span><br><span class="line">/etc/111aaabbb  /etc/123abc  /etc/1abc  /etc/222aaabbb</span><br></pre></td></tr></table></figure></p>
<p>4、显示/etc/目录下所有以rc开头，并后面是0-6之间的数字，其它为任意字符的文件或目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/rc[0-6]* -d </span></span><br><span class="line">/etc/rc0.d  /etc/rc2.d  /etc/rc4.d  /etc/rc6.d</span><br><span class="line">/etc/rc1.d  /etc/rc3.d  /etc/rc5.d</span><br></pre></td></tr></table></figure></p>
<p>5、显示/etc目录下，所有以.d结尾的文件或目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/*.d -d</span></span><br><span class="line">/etc/bash_completion.d  /etc/logrotate.d     /etc/rc6.d</span><br><span class="line">/etc/binfmt.d           /etc/modprobe.d      /etc/rc.d</span><br></pre></td></tr></table></figure></p>
<p>6、显示/etc目录下，所有.conf结尾，且以m,n,r,p开头的文件或目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/[m,n,r,p]*.conf -d</span></span><br><span class="line">/etc/man_db.conf    /etc/nsswitch.conf  /etc/request-key.conf</span><br><span class="line">/etc/mke2fs.conf    /etc/numad.conf     /etc/resolv.conf</span><br><span class="line">/etc/mtools.conf    /etc/pbm2ppa.conf   /etc/rsyncd.conf</span><br><span class="line">/etc/nfs.conf       /etc/pnm2ppa.conf   /etc/rsyslog.conf</span><br><span class="line">/etc/nfsmount.conf  /etc/radvd.conf</span><br></pre></td></tr></table></figure></p>
<p>7、只显示/root下的隐藏文件和目录<br><strong>答：</strong><br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls .* -d</span></span><br><span class="line">.              .bash_profile  .cshrc         .lesshst  .user.txt.swp</span><br><span class="line">..             .bashrc        .dbus          .<span class="built_in">local</span>    .viminfo</span><br><span class="line">.bash_history  .cache         .esd_auth      .tcshrc</span><br><span class="line">.bash_logout   .config        .ICEauthority  .txt</span><br></pre></td></tr></table></figure></p>
<p>8、只显示/etc下的非隐藏目录<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls /etc/* -d</span></span><br><span class="line">/etc/111aaabbb                   /etc/mcelog</span><br><span class="line">/etc/123abc                      /etc/mke2fs.conf</span><br><span class="line">/etc/1abc                        /etc/modprobe.d</span><br></pre></td></tr></table></figure></p>
<h2 id="linux-cp命令练习"><a href="#linux-cp命令练习" class="headerlink" title="linux cp命令练习"></a>linux cp命令练习</h2><p>1、定义别名命令baketc，每天将/etc/目录下所有文件，备份到/date独立的子目录下，并要求子目录格式为backupYYYY-mm-dd，备份过程可见<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#alias baketc="cp -av  /etc/ /data/bakup`date +%F`"</span></span><br></pre></td></tr></table></figure></p>
<p>2、创建/app/rootdir目录，并复制/root下所有文件到该目录内，要求保留原有权限<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#cp -rp /root /data/rootdir/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="linux-mkdir命令练习"><a href="#linux-mkdir命令练习" class="headerlink" title="linux mkdir命令练习"></a>linux mkdir命令练习</h2><p>(1)如何创建/testdir/dir1/x, /testdir/dir1/y, /testdir/dir1/x/a, /testdir/dir1/x/b, /testdir/dir1/y/a, /testdir/dir1/y/b<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#mkdir -p testdir/dir1/&#123;x,y&#125;/&#123;a,b&#125;</span></span><br><span class="line">```  </span><br><span class="line">(2) 如何创建/testdir/dir2/x,/testdir/dir2/y,/testdir/dir2/x/a,  /testdir/dir2/x/b  </span><br><span class="line">**答：**</span><br><span class="line">```bash</span><br><span class="line">[root@centos7 data]<span class="comment">#mkdir -p testdir/dir2/&#123;x/&#123;a,b&#125;,y&#125;</span></span><br></pre></td></tr></table></figure></p>
<p>(3) 如何创建/testdir/dir3, /testdir/dir4, /testdir/dir5, /testdir/dir5/dir6, /testdir/dir5/dir7<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#mkdir -p testdir/dir&#123;3,4,5/&#123;dir6,dir7&#125;&#125;</span></span><br></pre></td></tr></table></figure></p>
<h2 id="linux重定向-tr-命令练习"><a href="#linux重定向-tr-命令练习" class="headerlink" title="linux重定向/tr 命令练习"></a>linux重定向/tr 命令练习</h2><p>1、将/etc/issue文件中的内容转换为大写后保存至/date/issue.out文件中<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#cat /etc/issue | tr 'a-z' 'A-Z' &gt; /data/issue.out</span></span><br></pre></td></tr></table></figure></p>
<p>2、将当前系统登录用户的信息转换为大写后保存至/date/who.out文件中<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#who am i | tr 'a-z' 'A-Z' &gt; /data/who.out</span></span><br></pre></td></tr></table></figure></p>
<p>3、一个linux用户给root发邮件，要求邮件标题为”help”，邮件正文如下：<br>Hello, I am 用户名,The system version is here,pleasehelp me to check it ,thanks!  操作系统版本信息<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#cat &gt; f1 &lt;&lt;bb</span></span><br><span class="line">&gt; Hello, I am `whoami`</span><br><span class="line">&gt; The system version is here,pleasehelp me to check it ,thanks!</span><br><span class="line">&gt; `cat /etc/centos-release`</span><br><span class="line">&gt; bb</span><br><span class="line">[root@centos7 data]<span class="comment">#cat f1</span></span><br><span class="line">Hello, I am root</span><br><span class="line">The system version is here,pleasehelp me to check it ,thanks!</span><br><span class="line">CentOS Linux release 7.5.1804 (Core) </span><br><span class="line">[root@centos7 data]<span class="comment">#cat f1 | mail -s "help" lihf</span></span><br></pre></td></tr></table></figure></p>
<p>4、将/root/下文件列表，显示成一行，并文件名之间用空格隔开<br><strong>答：</strong><br> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ls |tr '\n' ' '</span></span><br><span class="line">Desktop Documents Downloads initial-setup-ks.cfg Music Pictures Public Templates Videos</span><br></pre></td></tr></table></figure></p>
<p>5、计算1+2+3+..+99+100的总和<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#echo &#123;1..100&#125; &gt; a1</span></span><br><span class="line">[root@centos7 data]<span class="comment">#cat a1</span></span><br><span class="line">1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100</span><br><span class="line">[root@centos7 data]<span class="comment">#cat a1 |tr " " "+"|bc</span></span><br></pre></td></tr></table></figure></p>
<p>6、删除Windows文本文件中的‘^M’字符<br>7、处理字符串“xt.,l 1 jr#!$mn2 c*/fe3 uz4”，只保留其中的数字和空格<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#cat a2 |tr -dc "[:digit:] "</span></span><br></pre></td></tr></table></figure></p>
<p>8、将PATH变量每个目录显示在独立的一行<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#echo $PATH | tr ':' '\n' </span></span><br><span class="line">/usr/<span class="built_in">local</span>/sbin</span><br><span class="line">/usr/<span class="built_in">local</span>/bin</span><br><span class="line">/usr/sbin</span><br><span class="line">/usr/bin</span><br><span class="line">/root/bin</span><br></pre></td></tr></table></figure></p>
<p>9、将指定文件中0-9分别替代成a-j<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#cat a1</span></span><br><span class="line">1234566433789</span><br><span class="line">[root@centos7 data]<span class="comment">#cat a1 |tr '0-9' 'a-j'</span></span><br><span class="line">bcdefggeddhij</span><br></pre></td></tr></table></figure></p>
<p>10、将文件/etc/centos-release中每个单词（由字母组成）显示在独立一行，并无空行<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#cat /etc/centos-release | tr ' ' '\n'</span></span><br><span class="line">CentOS</span><br><span class="line">Linux</span><br><span class="line">release</span><br><span class="line">7.5.1804</span><br><span class="line">(Core)</span><br></pre></td></tr></table></figure></p>
<h2 id="用户组和权限练习"><a href="#用户组和权限练习" class="headerlink" title="用户组和权限练习"></a>用户组和权限练习</h2><p>1、创建用户gentoo，附加组为bin和root，默认shell为/bin/csh，注释信息为 “GentooDistribution”<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#useradd getoo</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#useradd -c getoo "GentooDistribution"</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#gpasswd -a getoo root</span></span><br><span class="line">Adding user getoo to group root</span><br><span class="line">[root@centos7 ~]<span class="comment">#gpasswd -a getoo bin</span></span><br><span class="line">Adding user getoo to group bin</span><br><span class="line">[root@centos7 ~]<span class="comment">#nano /etc/passwd （修改shell）</span></span><br></pre></td></tr></table></figure></p>
<p>2、创建下面的用户、组和组成员关系<br>名字为webs 的组<br>用户nginx使用webs 作为附属组<br>用户varnish，也使用webs 作为附属组<br>用户mysql，不可交互登录系统，且不是webs 的成员，nginx，varnish，mysql密码都是magedu<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#useradd -G webs nginx </span></span><br><span class="line">[root@centos7 ~]<span class="comment">#useradd -G webs varnish</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#useradd -s /sbin/nologin mysql</span></span><br><span class="line">[root@centos7 ~]<span class="built_in">echo</span> magedu | passwd --stdin nginx</span><br><span class="line">[root@centos7 ~]<span class="built_in">echo</span> magedu | passwd --stdin mysql</span><br><span class="line">[root@centos7 ~]<span class="built_in">echo</span> magedu | passwd --stdin varnish</span><br></pre></td></tr></table></figure></p>
<p>1、当用户docker对/testdir目录无执行权限时，意味着无法做哪些操作？<br><strong>答：</strong><br>如果不是所属组就加other的执行权限<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[lihf@centos7 data]<span class="variable">$chmod</span> o+x testdir/</span><br></pre></td></tr></table></figure></p>
<p>2、当用户mongodb对/testdir目录无读权限时，意味着无法做哪些操作？<br><strong>答：</strong><br>如果不是所属组就加other的读权限<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[lihf@centos7 data]<span class="variable">$chmod</span> o+r testdir/</span><br></pre></td></tr></table></figure></p>
<p>3、当用户redis对/testdir目录无写权限时，该目录下的只读文件file1是否可修改和删除？<br><strong>答：</strong><br>不可以修改和删除，没有权限<br>4、当用户zabbix对/testdir目录有写和执行权限时，该目录下的只读文件file1是否可修改和删除？<br><strong>答：</strong><br>不可以修改，可以删除<br>5、复制/etc/fstab文件到/data/tmp下，设置文件所有者为zhang读写权限，所属组为aaa组有读写权限，其他人无权限<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#cp /etc/fstab /data/tmp</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#ll /data/</span></span><br><span class="line">-rw-r--r--. 1 root root 595 Oct  6 13:01 tmp</span><br><span class="line">[root@centos7 ~]<span class="comment">#chown zhang.aaa /data/tmp  </span></span><br><span class="line">[root@centos7 ~]<span class="comment">#ll /data/tmp</span></span><br><span class="line">-rw-r--r--. 1 zhang aaa 595 Oct  6 13:01 /data/tmp</span><br><span class="line">[root@centos7 ~]<span class="comment">#chmod g+w,o-r /data/tmp </span></span><br><span class="line">[root@centos7 ~]<span class="comment">#ll /data/tmp            </span></span><br><span class="line">-rw-rw----. 1 zhang aaa 595 Oct  6 13:01 /data/tmp</span><br></pre></td></tr></table></figure></p>
<p>6、误删除了用户lihongfei的家目录，请重建并恢复该用户家目录及相应的权限属性<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#cp -r /etc/skel /home/lihongfei</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#chown -R lihongfei.lihongfei /home/lihongfei/ </span></span><br><span class="line">[root@centos7 ~]<span class="comment">#chmod 700 /home/lihongfei/</span></span><br></pre></td></tr></table></figure></p>
<h2 id="ACL练习"><a href="#ACL练习" class="headerlink" title="ACL练习"></a>ACL练习</h2><p>1、在/testdir/dir里创建的新文件自动属于webs组，组apps的成员如：tomcat能对这些新文件有读写权限，组dbs的成员如：mysql只能对新文件有读权限，其它用户（不属于webs,apps,dbs）不能访问这个文件夹<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#groupadd apps</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#groupadd webs</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#groupadd dbs</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#useradd mysql</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#useradd tomcat</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#usermod -aG apps tomcat</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#usermod -aG dbs mysql</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#mkdir testdir/dir</span></span><br><span class="line">[root@centos7 ~]<span class="comment">#chown .webs /data/testdir/dir</span></span><br><span class="line">[root@centos7 data]<span class="comment">#chmod g+s testdir/dir</span></span><br><span class="line">[root@centos7 data]<span class="comment">#setfacl -R -m d:g:apps:rw testdir/dir</span></span><br><span class="line">[root@centos7 data]<span class="comment">#setfacl -R -m d:g:dbs:r testdir/dir</span></span><br><span class="line">[root@centos7 testdir]<span class="comment">#chmod o-r dir/</span></span><br></pre></td></tr></table></figure></p>
<p>2、备份/testdir/dir里所有文件的ACL权限到/root/acl.txt中，清除/testdir/dir中所有ACL权限，最后还原ACL权限<br><strong>答：</strong><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 data]<span class="comment">#getfacl testdir/dir &gt; /root/acl.txt</span></span><br><span class="line">[root@centos7 data]<span class="comment">#setfacl --restore /root/acl.txt</span></span><br></pre></td></tr></table></figure></p>
<h2 id="文本处理工具练习"><a href="#文本处理工具练习" class="headerlink" title="文本处理工具练习"></a>文本处理工具练习</h2><p>1、找出ifconfig “网卡名”命令结果中本机的IPv4地址<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#ifconfig ens33 |head -2|tail -1|tr -s ' ' '-'|cut -d- -f3</span></span><br></pre></td></tr></table></figure></p>
<p>2、查出分区空间使用率的最大百分比值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#df | sort |head -1| tr -s ' ' '%'| cut -d% -f5</span></span><br></pre></td></tr></table></figure></p>
<p>3、查出用户UID最大值的用户名、UID及shell类型<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#getent passwd |sort -t: -k3 -n |tail -1|cut -d: -f1,3,7</span></span><br><span class="line">nfsnobody:65534:/sbin/nologin</span><br></pre></td></tr></table></figure></p>
<p>4、查出/tmp的权限，以数字方式显示  </p>
<p>5、统计当前连接本机的每个远程主机IP的连接数，并按从大到小排序  </p>
<h2 id="正则表达式练习"><a href="#正则表达式练习" class="headerlink" title="正则表达式练习"></a>正则表达式练习</h2><p>1、显示/proc/meminfo文件中以大小s开头的行(要求：使用两种方法)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#cat /proc/meminfo | grep ^[s,S]</span></span><br></pre></td></tr></table></figure></p>
<p>2、显示/etc/passwd文件中不以/bin/bash结尾的行<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@centos7 ~]<span class="comment">#getent passwd | grep -v /bin/bash$</span></span><br></pre></td></tr></table></figure></p>
<p>3、显示用户rpc默认的shell程序</p>
<p>4、找出/etc/passwd中的两位或三位数<br>5、显示CentOS7的/etc/grub2.cfg文件中，至少以一个空白字符开头的且后面有非空白字符的行<br>6、找出“netstat-tan”命令结果中以LISTEN后跟任意多个空白字符结尾的行<br>7、显示CentOS7上所有系统用户的用户名和UID<br>8、添加用户bash、testbash、basher、sh、nologin(其shell为/sbin/nologin),找出/etc/passwd用户名和shell同名的行<br>9、利用df和grep，取出磁盘各分区利用率，并从大到小排序</p>
<h2 id="shell编程练习"><a href="#shell编程练习" class="headerlink" title="shell编程练习"></a>shell编程练习</h2><p>1、编写脚本/root/bin/systeminfo.sh,显示当前主机系统信息，包括主机名，IPv4地址，操作系统版本，内核版本，CPU型号，内存大小，硬盘大小<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">12 a=<span class="string">"\033[1;31m"</span></span><br><span class="line">13 b=<span class="string">"\033[0m"</span></span><br><span class="line">14 <span class="built_in">echo</span> -e My kernel version is<span class="variable">$a</span>`uname -r`<span class="variable">$b</span></span><br><span class="line">15 <span class="built_in">echo</span> -e The cpu <span class="built_in">type</span> is<span class="variable">$a</span>`lscpu |grep TM |cut -d: -f2 | tr -s <span class="string">' '</span>`<span class="variable">$b</span>                                             </span><br><span class="line">16 <span class="built_in">echo</span> -e The memory is<span class="variable">$a</span>`free -h| grep Mem | tr -s <span class="string">" "</span> <span class="string">':'</span>|cut -d: -f2`<span class="variable">$b</span></span><br><span class="line">17 <span class="built_in">echo</span> -e The number of disk is<span class="variable">$a</span>`df |grep -v /dev/sr0 | grep -Eo <span class="string">"[[:digit:]]&#123;1,2&#125;%"</span>| sort -rn| head -1`<span class="variable">$b</span></span><br><span class="line">18 <span class="built_in">echo</span> -e The hostname is<span class="variable">$a</span>`hostname`<span class="variable">$b</span></span><br><span class="line">19 <span class="built_in">echo</span> -e This ipadd is<span class="variable">$a</span>`ifconfig ens33 | grep netmask | tr -s <span class="string">" "</span> <span class="string">":"</span> |cut -d: -f3</span><br></pre></td></tr></table></figure></p>
<p>2、编写脚本/root/bin/backup.sh，可实现每日将/etc/目录备份到/root/etcYYYY-mm-dd中<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">`cp -av /etc/ /data/backup<span class="string">'date +%F'</span>.txt `</span><br></pre></td></tr></table></figure></p>
<p>3、编写脚本/root/bin/disk.sh,显示当前硬盘分区中空间利用率最大的值<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df |grep -v /dev/sr0 | grep -Eo <span class="string">"[[:digit:]]&#123;1,2&#125;%"</span>| sort -rn| head -1</span><br></pre></td></tr></table></figure></p>
<p>4、编写脚本/root/bin/links.sh,显示正连接本主机的每个远程主机的IPv4地址和连接数，并按连接数从大到小排序</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://yoursite.com/2018/11/13/练习题/" data-id="cjof5kvj80007b0vxjyo7ijls" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2018/11/13/图片外链/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          图片外链
        
      </div>
    </a>
  
  
    <a href="/2018/11/13/linux网络管理/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">linux网络管理</div>
    </a>
  
</nav>

  
</article>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/M/">M</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/linux/">linux</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/习题/">习题</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/内核/">内核</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/压缩/">压缩</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/文件系统/">文件系统</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/组/">组</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/编辑器/">编辑器</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/网络/">网络</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/脚本/">脚本</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/行/">行</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/计划任务/">计划任务</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/软件包/">软件包</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/链接/">链接</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/M34/">M34</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/linux/">linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/rpm，yum/">rpm，yum</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shell/">shell]</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vim/">vim</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/博客/">博客</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/启动/">启动</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/基础/">基础</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/文件/">文件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/权限/">权限</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/查找/">查找</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/磁盘/">磁盘</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/筛选/">筛选</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络/">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/进程/">进程</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/M34/" style="font-size: 10px;">M34</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/rpm，yum/" style="font-size: 10px;">rpm，yum</a> <a href="/tags/shell/" style="font-size: 10px;">shell]</a> <a href="/tags/vim/" style="font-size: 10px;">vim</a> <a href="/tags/博客/" style="font-size: 10px;">博客</a> <a href="/tags/启动/" style="font-size: 10px;">启动</a> <a href="/tags/基础/" style="font-size: 10px;">基础</a> <a href="/tags/工具/" style="font-size: 20px;">工具</a> <a href="/tags/文件/" style="font-size: 10px;">文件</a> <a href="/tags/权限/" style="font-size: 10px;">权限</a> <a href="/tags/查找/" style="font-size: 20px;">查找</a> <a href="/tags/磁盘/" style="font-size: 20px;">磁盘</a> <a href="/tags/筛选/" style="font-size: 10px;">筛选</a> <a href="/tags/网络/" style="font-size: 10px;">网络</a> <a href="/tags/进程/" style="font-size: 10px;">进程</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/11/13/图片外链/">图片外链</a>
          </li>
        
          <li>
            <a href="/2018/11/13/练习题/">练习题</a>
          </li>
        
          <li>
            <a href="/2018/11/13/linux网络管理/">linux网络管理</a>
          </li>
        
          <li>
            <a href="/2018/11/13/linux三剑客-sed/">linux三剑客-sed</a>
          </li>
        
          <li>
            <a href="/2018/11/13/shell脚本编程基础/">shell脚本编程基础</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 linux<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>